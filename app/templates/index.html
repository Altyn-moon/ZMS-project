<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>ZMS</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Анимация моргания для глаза */
        @keyframes blink {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            30% {
                opacity: 0.1;
                transform: scale(0.8); /* немного уменьшаем */
            }
            50% {
                opacity: 0; /* полное исчезновение */
                transform: scale(0.9); /* чуть больше уменьшаем */
            }
            70% {
                opacity: 0.1;
                transform: scale(0.8);
            }
        }

        /* Применяем анимацию только при активном классе */
        .toggle-password img.blink {
            animation: blink 1s ease-in-out; /* Увеличили длительность для плавности */
        }
    </style>
</head>
<body>

    <img class="logo" src="/static/logo.png" alt="ZMS" width="250">

    <!-- Экран с карточкой -->
    <div id="cardScreen" class="content active">
        <div class="card">
            <p class="card-text">Приложите, пожалуйста карточку</p>
            <img src="/static/smile.png" alt="Смайл">
        </div>
        <div class="arrow">
            <img src="/static/arrow.png" alt="Стрелка">
        </div>
        <button class="login-btn" onclick="showLogin()">Вход через логин/пароль</button>
    </div>

    <!-- Экран логина -->
    <div id="loginScreen" class="login-container">
        <label for="username">Имя пользователя</label>
        <input type="text" id="username" placeholder="Введите имя">
       
        <label for="password">Пароль</label>
        <div class="password-container">
            <input type="password" id="password" placeholder="Введите пароль">
            <button class="toggle-password" onclick="togglePassword()">
                <img id="Eye-icon" src="/static/Eye-off.png" alt="eye" />
            </button>
        </div>
        
        <button class="login-submit">Войти</button>
        <button class="back-btn" onclick="showCard()">← Назад</button>
    </div>
    
    <script>
        function showLogin() {
            document.getElementById('cardScreen').classList.remove('active');
            document.getElementById('loginScreen').classList.add('active');
        }

        function showCard() {
            document.getElementById('loginScreen').classList.remove('active');
            document.getElementById('cardScreen').classList.add('active');
        }

        function togglePassword() {
    const passwordInput = document.getElementById("password");
    const eyeIcon = document.getElementById("Eye-icon");
    const isPassword = passwordInput.type === "password";
    
    passwordInput.type = isPassword ? "text" : "password";
    eyeIcon.src = isPassword ? "/static/Eye.png" : "/static/Eye-off.png";

    // Анимация моргания
    eyeIcon.classList.add('blink-animation');
    setTimeout(() => {
        eyeIcon.classList.remove('blink-animation');
    }, 250); // длительность соответствует animation: 0.25s
}
        // Переход на dashboard
        document.querySelector('.login-submit').addEventListener('click', function () {
            // Тут может быть проверка логина/пароля
            window.location.href = "/dashboard";
        });
    </script>
</body>
</html>
